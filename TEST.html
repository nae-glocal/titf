<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>รายการที่พักของเรา | GLOCE Accommodations</title>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Sarabun:wght@400;700&display=swap" rel="stylesheet">
    
    <!-- FontAwesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Tailwind Config -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Sarabun', 'Roboto', 'sans-serif'],
                    },
                    colors: {
                        emerald: {
                            50: '#ecfdf5',
                            100: '#d1fae5',
                            500: '#10b981',
                            600: '#059669',
                            700: '#047857',
                        }
                    }
                }
            }
        }
    </script>

    <style>
        body {
            font-family: 'Sarabun', 'Roboto', sans-serif;
            background-color: #f3f4f6;
        }
        /* ปุ่มเปลี่ยนภาษา */
        .lang-btn {
            transition: all 0.3s ease;
        }
        .lang-btn.active {
            background-color: white;
            color: #10b981; /* emerald-500 */
            font-weight: bold;
        }
        /* การ์ด */
        .property-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .property-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>
<body class="flex flex-col min-h-screen">

    <!-- Header -->
    <header class="bg-emerald-600 text-white shadow-lg sticky top-0 z-50">
        <div class="container mx-auto px-4 py-4 flex justify-between items-center">
            <div class="flex items-center gap-2">
                <i class="fa-solid fa-house-chimney text-2xl"></i>
                <h1 id="header-title" class="text-xl md:text-2xl font-bold">ที่พักของเรา</h1>
            </div>
            
            <!-- Language Switcher -->
            <div class="flex bg-emerald-700 rounded-lg p-1 gap-1">
                <button onclick="setLanguage('th')" class="lang-btn px-3 py-1 rounded text-sm text-emerald-100 hover:text-white" id="btn-th">TH</button>
                <button onclick="setLanguage('en')" class="lang-btn px-3 py-1 rounded text-sm text-emerald-100 hover:text-white" id="btn-en">EN</button>
                <button onclick="setLanguage('jp')" class="lang-btn px-3 py-1 rounded text-sm text-emerald-100 hover:text-white" id="btn-jp">JP</button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-8 flex-grow">
        <div id="content-area" class="min-h-[200px]">
            <div class="text-center py-10">
                <i class="fa-solid fa-circle-notch fa-spin text-4xl text-emerald-600"></i>
                <p class="mt-4 text-gray-500">กำลังโหลดข้อมูล...</p>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white pt-8 pb-6 mt-auto">
        <div class="container mx-auto px-4 text-center">
            <div class="mb-6">
                <i class="fa-solid fa-ticket text-yellow-400 text-3xl mb-3 inline-block"></i>
                <h3 id="footer-coupon-title" class="text-lg font-bold mb-2">มีคูปองส่วนลดใช่ไหม?</h3>
                <p id="footer-coupon-desc" class="text-gray-400 mb-4">ดูวิธีการใช้งานคูปองและข้อกำหนดต่างๆ ได้ที่นี่</p>
                <a href="#" class="inline-flex items-center bg-yellow-500 hover:bg-yellow-400 text-gray-900 font-bold py-2 px-6 rounded-full transition duration-300 no-underline">
                    <i class="fa-solid fa-book-open mr-2"></i>
                    <span id="footer-btn-text">คู่มือการใช้งานคูปอง</span>
                </a>
            </div>
            <div class="border-t border-gray-700 pt-6 text-sm text-gray-500">
                &copy; 2024 GLOCE Accommodations. All rights reserved.
            </div>
        </div>
    </footer>

    <script>
        // 1. ข้อมูลที่พัก (Data)
        const properties = [
            { 
                area: "逗子 (Zushi)", 
                name: "GLOCE Zushi Worcation house NAGISA", 
                address: "Zushi, Kanagawa", 
                tags: ["Guesthouse", "Workation"], 
                link: "https://gloce.airhost.co/en/houses/197161",
                mapLink: "https://maps.app.goo.gl/zT9Du3dmgyyL34iD9",
                image: "https://s3-ap-northeast-1.amazonaws.com/triosky-airhost/uploads/production/house_picture/2040052/picture/1713238484-17n.jpg"
            },
            { 
                area: "逗子 (Zushi)", 
                name: "民泊 ハルちゃん", 
                address: "5 Chome-10-8 Kotsubo, Zushi, Kanagawa 249-0008", 
                tags: ["Homestay"], 
                link: "https://gloce.airhost.co/en/houses/197163" ,
                mapLink: "https://maps.app.goo.gl/SSUMvUo4ysjJ2rUD9",
                image: "https://s3-ap-northeast-1.amazonaws.com/triosky-airhost/uploads/production/house_picture/1794797/picture/1620722954-1605748232-835e40ef-8f89-4b37-8450-10a5d0cce370.jpg"
            },
            { 
                area: "逗子 (Zushi)", 
                name: "逗子葉山", 
                address: "6-chōme-5-42 Zushi, Kanagawa 249-0006", 
                tags: ["Private House"],
                link: "https://gloce.airhost.co/en/houses/523271" ,
                mapLink: "https://maps.app.goo.gl/iaxiDW4pammT9Kwq6",
                image: "https://s3-ap-northeast-1.amazonaws.com/triosky-airhost/uploads/production/house_picture/2044969/picture/1714610463-b3.jpg"
            },
            { area: "葉山 (Hayama)", name: "1816-2 Horiuchi", address: "Horiuchi, Hayama", tags: ["Ocean View"], link: "#" },
            { area: "葉山 (Hayama)", name: "GLOCE 葉山のサーファーズログハウス", address: "Hayama", tags: ["Log House", "Surfing"], link: "#" },
            { area: "葉山 (Hayama)", name: "GLOCE 葉山の古民家 ～囲炉裏でＢＢＱ～", address: "Hayama", tags: ["Traditional", "BBQ"], link: "#" },
            { area: "葉山 (Hayama)", name: "GLOCE ゲストハウス一色 in Hayama", address: "Isshiki, Hayama", tags: ["Guesthouse"], link: "#" },
            { area: "葉山 (Hayama)", name: "GLOCE Hayama near Morito Beach", address: "Morito, Hayama", tags: ["Beach"], link: "#" },
            { area: "鎌倉 (Kamakura)", name: "「海行燈」一軒貸切の宿", address: "Koshigoe, Kamakura", tags: ["Private Rental"], link: "#" },
            { area: "鎌倉 (Kamakura)", name: "GLOCE 鎌倉 若宮大路House", address: "Wakamiya, Kamakura", tags: ["City Center"], link: "#" },
            { area: "鎌倉 (Kamakura)", name: "2 Chome-17-24 Hase", address: "Hase, Kamakura", tags: ["Near Temple"], link: "#" },
            { area: "横須賀 (Yokosuka)", name: "GLOCE 横須賀 SHARE ROOM @NAVY BASE", address: "Yokosuka", tags: ["Share Room"], link: "#" },
            { area: "横須賀 (Yokosuka)", name: "GLOCE ゲストルーム 2min walk to NAVY BASE", address: "Yokosuka", tags: ["Guest Room"], link: "#" },
            { area: "美幌 (Bihoro)", name: "GLOCE Guestroom Bihoro", address: "Bihoro, Hokkaido", tags: ["Hokkaido"], link: "#" },
            { area: "美幌 (Bihoro)", name: "GLOCE Bihoro ゲストハウス 丘宿", address: "Bihoro, Hokkaido", tags: ["Guesthouse"], link: "#" },
            { area: "宮古島 (Miyakojima)", name: "石田ヴィレッジ", address: "Miyakojima, Okinawa", tags: ["Village", "Resort"], link: "#" },
            { area: "伊豆 (Izu)", name: "GLOCE一碧ハウス", address: "Ippeki, Izu", tags: ["Nature"], link: "#" },
            { area: "沖縄 (Okinawa)", name: "ユイマール恩納1", address: "Onna, Okinawa", tags: ["Resort"], link: "#" },
            { area: "千葉 (Chiba)", name: "GLOCE RIN", address: "Chiba", tags: ["Modern"], link: "#" },
            { area: "広島 (Hiroshima)", name: "761-3 Akitsucho Kazahaya", address: "Akitsucho, Hiroshima", tags: ["Sea Side"], link: "#" }
        ];

        // 2. คำแปล (Translations)
        const translations = {
            th: {
                headerTitle: "ที่พักของเรา",
                footerCouponTitle: "มีคูปองส่วนลดใช่ไหม?",
                footerCouponDesc: "ดูวิธีการใช้งานคูปองและข้อกำหนดต่างๆ ได้ที่นี่",
                footerBtnText: "คู่มือการใช้งานคูปอง",
                location: "ที่อยู่",
                viewDetails: "ดูรายละเอียด",
                areaMapping: {
                    "逗子 (Zushi)": "ซูชิ (Zushi)", "葉山 (Hayama)": "ฮายามะ (Hayama)",
                    "鎌倉 (Kamakura)": "คามาคุระ (Kamakura)", "横須賀 (Yokosuka)": "โยโกสุกะ (Yokosuka)",
                    "美幌 (Bihoro)": "บิโฮโร (Bihoro)", "宮古島 (Miyakojima)": "มิยาโกจิมะ (Miyakojima)",
                    "伊豆 (Izu)": "อิซุ (Izu)", "沖縄 (Okinawa)": "โอกินาว่า (Okinawa)",
                    "千葉 (Chiba)": "ชิบะ (Chiba)", "広島 (Hiroshima)": "ฮิโรชิม่า (Hiroshima)"
                }
            },
            en: {
                headerTitle: "Our Accommodations",
                footerCouponTitle: "Have a Discount Coupon?",
                footerCouponDesc: "Check out how to use your coupon and terms here.",
                footerBtnText: "Coupon User Guide",
                location: "Location",
                viewDetails: "View Details",
                areaMapping: {
                    "逗子 (Zushi)": "Zushi", "葉山 (Hayama)": "Hayama",
                    "鎌倉 (Kamakura)": "Kamakura", "横須賀 (Yokosuka)": "Yokosuka",
                    "美幌 (Bihoro)": "Bihoro", "宮古島 (Miyakojima)": "Miyakojima",
                    "伊豆 (Izu)": "Izu", "沖縄 (Okinawa)": "Okinawa",
                    "千葉 (Chiba)": "Chiba", "広島 (Hiroshima)": "Hiroshima"
                }
            },
            jp: {
                headerTitle: "宿泊施設一覧",
                footerCouponTitle: "割引クーポンをお持ちですか？",
                footerCouponDesc: "クーポンの利用方法や条件はこちらでご確認ください。",
                footerBtnText: "クーポン利用ガイド",
                location: "住所",
                viewDetails: "詳細を見る",
                areaMapping: {}
            }
        };

        let currentLang = 'th';

        // 3. ฟังก์ชันหลัก (Core Functions)
        function setLanguage(lang) {
            currentLang = lang;
            
            // Update Buttons
            document.querySelectorAll('.lang-btn').forEach(btn => btn.classList.remove('active'));
            document.getElementById(`btn-${lang}`).classList.add('active');
            
            // Update Text
            const t = translations[lang];
            document.getElementById('header-title').textContent = t.headerTitle;
            document.getElementById('footer-coupon-title').textContent = t.footerCouponTitle;
            document.getElementById('footer-coupon-desc').textContent = t.footerCouponDesc;
            document.getElementById('footer-btn-text').textContent = t.footerBtnText;
            
            // Re-render
            renderProperties();
        }

        function localizeUrl(url, lang) {
            if (!url || !url.startsWith('http')) return url;
            const targetLang = (lang === 'jp') ? 'ja' : 'en';
            if (url.includes('/ja/') || url.includes('/en/')) {
                return url.replace(/\/(ja|en)\//, `/${targetLang}/`);
            }
            return url;
        }

        function stringToColor(str) {
            let hash = 0;
            for (let i = 0; i < str.length; i++) {
                hash = str.charCodeAt(i) + ((hash << 5) - hash);
            }
            const c = (hash & 0x00FFFFFF).toString(16).toUpperCase();
            return '#' + '00000'.substring(0, 6 - c.length) + c;
        }

        function renderProperties() {
            const container = document.getElementById('content-area');
            container.innerHTML = '';
            
            const t = translations[currentLang];

            // Group by Area
            const grouped = properties.reduce((acc, item) => {
                if (!acc[item.area]) acc[item.area] = [];
                acc[item.area].push(item);
                return acc;
            }, {});

            // Generate HTML
            for (const [originalAreaName, items] of Object.entries(grouped)) {
                let displayAreaName = originalAreaName;
                if (currentLang !== 'jp' && t.areaMapping[originalAreaName]) {
                    displayAreaName = t.areaMapping[originalAreaName];
                }

                const section = document.createElement('div');
                section.className = 'mb-12';

                const title = document.createElement('h2');
                title.className = 'text-2xl font-bold text-gray-800 border-l-4 border-emerald-500 pl-3 mb-6';
                title.textContent = displayAreaName;
                section.appendChild(title);

                const grid = document.createElement('div');
                grid.className = 'grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6';

                items.forEach(item => {
                    const card = document.createElement('div');
                    card.className = 'property-card bg-white rounded-lg overflow-hidden border border-gray-100 shadow-sm flex flex-col h-full';
                    
                    const headerColor = stringToColor(item.name);
                    
                    let addressHtml = `<i class="fa-solid fa-location-dot mr-1 text-emerald-500"></i> ${item.address}`;
                    if (item.mapLink) {
                        addressHtml = `<a href="${item.mapLink}" target="_blank" class="hover:text-emerald-700 hover:underline transition-colors text-gray-500" title="Google Maps">${addressHtml}</a>`;
                    }

                    const localizedLink = localizeUrl(item.link, currentLang);

                    let imageHtml;
                    if (item.image) {
                        imageHtml = `
                            <div class="h-48 w-full overflow-hidden bg-gray-200">
                                <img src="${item.image}" alt="${item.name}" class="w-full h-full object-cover transition-transform duration-500 hover:scale-110">
                            </div>
                        `;
                    } else {
                        imageHtml = `
                            <div class="h-48 w-full flex items-center justify-center text-white text-4xl" style="background-color: ${headerColor};">
                                <i class="fa-solid fa-hotel opacity-50"></i>
                            </div>
                        `;
                    }

                    card.innerHTML = `
                        ${imageHtml}
                        <div class="p-5 flex-grow flex flex-col justify-between">
                            <div>
                                <h3 class="font-bold text-lg mb-2 text-gray-800 line-clamp-2">${item.name}</h3>
                                <p class="text-gray-500 text-sm mb-3 mt-2">
                                    ${addressHtml}
                                </p>
                                <div class="flex flex-wrap gap-2 mb-4">
                                    ${item.tags.map(tag => `<span class="px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-md">${tag}</span>`).join('')}
                                </div>
                            </div>
                            <a href="${localizedLink}" target="_blank" class="w-full mt-auto py-2 border border-emerald-500 text-emerald-600 rounded hover:bg-emerald-50 transition-colors text-sm font-semibold flex items-center justify-center no-underline">
                                <i class="fa-solid fa-eye mr-2"></i> ${t.viewDetails}
                            </a>
                        </div>
                    `;
                    grid.appendChild(card);
                });

                section.appendChild(grid);
                container.appendChild(section);
            }
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            setLanguage('th');
        });
    </script>
</body>
</html>
